<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ã‡oklu YayÄ±n KartlarÄ±</title>
    <style>
        /* CSS BaÅŸlangÄ±cÄ± */
        body {
            background-color: transparent;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
        }
        .multi-player-container {
            font-family: Arial, sans-serif;
            max-width: 400px;
            min-width: 300px;
            margin: 0;
            background-color: #2c3e50; /* Koyu Mavi Arka Plan */
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            color: #ecf0f1;
        }
        /* Logo ve BaÅŸlÄ±k Stilleri */
        .logo-container {
            text-align: center;
            padding: 10px 0;
            background-color: #34495e;
        }
        .logo-container img {
            height: 40px;
            max-width: 90%;
        }
        .widget-header {
            text-align: center;
            padding: 10px 0;
            background-color: #34495e;
            color: #FF8C00;
            font-size: 1.1em;
            margin: 0;
            border-bottom: 2px solid #FF8C00;
            font-weight: bold;
        }
        
        /* Kart Listesi AlanÄ± */
        .stream-list {
            padding: 10px 5px; /* Ä°Ã§ boÅŸluklarÄ± azalt */
            display: flex;
            flex-direction: column;
            gap: 10px; /* Kartlar arasÄ± boÅŸluk */
        }
        
        /* Tek bir yayÄ±n kartÄ± */
        .stream-card {
            background-color: #34495e; /* Kart arka planÄ± */
            border-radius: 6px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            border-top: 4px solid var(--stream-color, #FF8C00); /* Dinamik renkli kenarlÄ±k */
            transition: box-shadow 0.2s;
        }
        .stream-card:hover {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
        }

        .card-content {
            padding: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .stream-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--stream-color, #FF8C00);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            margin-right: 10px;
            color: #2c3e50;
        }

        .stream-info {
            flex-grow: 1;
            text-align: left;
        }
        .stream-name {
            font-size: 1em;
            font-weight: bold;
            color: #ecf0f1;
            margin-bottom: 3px;
        }
        .stream-tag {
            font-size: 0.7em;
            color: #aaa;
        }

        /* Buton Stili */
        .card-button-area {
            padding: 0 10px 10px 10px;
        }
        .stream-button {
            width: 100%;
            background-color: #FF8C00;
            color: #2c3e50;
            border: none;
            padding: 10px 15px;
            font-size: 0.9em;
            cursor: pointer;
            border-radius: 4px;
            font-weight: bold;
            transition: background-color 0.2s;
        }
        .stream-button.playing {
            background-color: #2ecc71; /* YeÅŸil - Ã‡alÄ±yor */
            color: white;
        }
        .stream-button:hover {
            background-color: #e67e22;
        }
        .stream-button.playing:hover {
            background-color: #27ae60;
        }
        /* CSS Sonu */
    </style>
</head>
<body>

<div class="multi-player-container">
    
    <div class="logo-container">
        <img src="https://allaturkaa.de/forum/wcf/images/allaturkaa/logo.png" alt="Allaturka Logo">
    </div>
    
    <div class="widget-header">Ã‡OKLU YAYIN KANALLARI</div>

    <div class="stream-list" id="streamList">
        </div>
    
    <audio id="globalAudio" crossorigin="anonymous"></audio>
</div>

<script>
    // JavaScript BaÅŸlangÄ±cÄ±
    const globalAudio = document.getElementById('globalAudio');
    const streamList = document.getElementById('streamList');

    // YayÄ±n AkÄ±ÅŸlarÄ± Listesi (BURAYI KENDÄ° BÄ°LGÄ°LERÄ°NÄ°ZLE DOLDURUN)
    const streams = [
        {
            id: 'okyanus35',
            name: "RADYO ALLATURKA",
            url: "https://eu4.fastcast4u.com/proxy/okyanus35?mp=/1",
            tag: "AÅŸk ve HÃ¼zÃ¼n",
            icon: "ðŸŽ§",
            color: "#FF8C00" // Turuncu
        },
        {
            id: 'slowfm',
            name: "GURBETTEYÄ°M FM",
            url: "https://eu8.fastcast4u.com/proxy/dilber?mp=/1",
            tag: "Gurbet ve TÃ¼rkÃ¼",
            icon: "ðŸŽ¶",
            color: "#3498db" // Mavi
        },
        {
            id: 'djmix',
            name: "DOST YURDU RADYO",
            url: "https://eu1.fastcast4u.com/proxy/qpnslltp?mp=/1",
            tag: "GÃ¶nÃ¼lden Ezgiler",
            icon: "ðŸ”Š",
            color: "#e74c3c" // KÄ±rmÄ±zÄ±
        }
    ];

    let currentPlayingId = null;

    // ArayÃ¼zÃ¼ oluÅŸtur
    function renderStreams() {
        streamList.innerHTML = '';
        streams.forEach(stream => {
            const item = document.createElement('div');
            item.className = 'stream-card';
            item.style.setProperty('--stream-color', stream.color); // CSS deÄŸiÅŸkenini ayarla

            item.innerHTML = `
                <div class="card-content">
                    <div class="stream-icon">${stream.icon}</div>
                    <div class="stream-info">
                        <span class="stream-name">${stream.name}</span>
                        <span class="stream-tag">${stream.tag}</span>
                    </div>
                </div>
                <div class="card-button-area">
                    <button class="stream-button" data-id="${stream.id}" data-url="${stream.url}">
                        RADYOYU BAÅžLAT
                    </button>
                </div>
            `;
            streamList.appendChild(item);
        });
    }

    // Oynatma/Durdurma Ä°ÅŸlevi
    function togglePlay(button, streamId, streamUrl) {
        if (streamId === currentPlayingId) {
            // Durdur
            globalAudio.pause();
        } else {
            // Yeni yayÄ±nÄ± baÅŸlat
            stopAllStreams(); // Ã–nce diÄŸerlerini durdur

            globalAudio.src = streamUrl;
            globalAudio.load();
            
            globalAudio.play().then(() => {
                // BaÅŸarÄ±lÄ±
                currentPlayingId = streamId;
                button.textContent = 'ÅžU AN Ã‡ALIYOR';
                button.classList.add('playing');
            }).catch(error => {
                alert(`"${streamId}" yayÄ±nÄ± baÅŸlatÄ±lamadÄ±. LÃ¼tfen mobil cihazlarda sesin kÄ±sÄ±tlanmadÄ±ÄŸÄ±ndan emin olun.`);
                console.error("Play error:", error);
                // BaÅŸarÄ±sÄ±z olursa durumu sÄ±fÄ±rla
                stopAllStreams();
            });
        }
    }

    // TÃ¼m YayÄ±nlarÄ± Durdur
    function stopAllStreams() {
        globalAudio.pause();
        currentPlayingId = null;
        // TÃ¼m butonlarÄ± sÄ±fÄ±rla
        document.querySelectorAll('.stream-button').forEach(btn => {
            btn.textContent = 'RADYOYU BAÅžLAT';
            btn.classList.remove('playing');
        });
    }

    // TÄ±klama Dinleyicisi
    streamList.addEventListener('click', (e) => {
        const button = e.target.closest('.stream-button');
        if (button) {
            const id = button.getAttribute('data-id');
            const url = button.getAttribute('data-url');
            togglePlay(button, id, url);
        }
    });

    // Audio elementinin pause eventi ile buton durumunu senkronize et
    globalAudio.addEventListener('pause', () => {
        if (currentPlayingId) {
            // Sadece bizim manuel pause durumumuzda durdur
            document.querySelectorAll('.stream-button').forEach(btn => {
                if (btn.getAttribute('data-id') === currentPlayingId) {
                    btn.textContent = 'RADYOYU BAÅžLAT';
                    btn.classList.remove('playing');
                }
            });
            currentPlayingId = null;
        }
    });

    // Ä°lk yÃ¼klemede arayÃ¼zÃ¼ Ã§iz
    document.addEventListener('DOMContentLoaded', renderStreams);
    // JavaScript Sonu
</script>

</body>
</html>