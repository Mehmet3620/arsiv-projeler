<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seyyah20 - Süleymaniye Özel Terminal</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Oswald:wght@300;500&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0; padding: 0;
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; background: #000;
            font-family: 'Oswald', sans-serif; color: white;
            overflow: hidden;
        }

        .ana-konteyner {
            position: relative;
            width: 1000px; height: 560px;
            /* Süleymaniye Camii Arka Planı */
            background: url('https://www.fatih.bel.tr/webfiles/fotograf/fotofatih/41-suleymaniye-cami-20240814-111335-img.jpg') no-repeat center center;
            background-size: cover;
            border: 4px solid #222;
            box-shadow: 0 0 100px rgba(0,0,0,0.8);
            overflow: hidden;
            display: flex; flex-direction: column;
        }

        .overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.35); /* Resmi çok karartmadan yazıların okunmasını sağlar */
            z-index: 1;
        }

        .icerik { position: relative; z-index: 2; padding: 35px; height: 100%; display: flex; flex-direction: column; justify-content: space-between; }

        .ust-header { display: flex; justify-content: space-between; align-items: flex-start; }
        .baslik-alanı h1 { font-size: 55px; margin: 0; font-weight: 300; letter-spacing: 2px; text-transform: uppercase; text-shadow: 2px 2px 10px rgba(0,0,0,0.8); }
        
        .arama-grubu { display: flex; gap: 8px; margin-top: 15px; }
        .arama-grubu input {
            background: rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.4);
            color: white; padding: 8px 12px; border-radius: 4px; font-size: 13px; width: 130px;
            backdrop-filter: blur(5px);
        }
        .arama-grubu button {
            background: #ffd700; border: none; padding: 8px 20px;
            font-weight: bold; cursor: pointer; border-radius: 4px; color: #000;
            transition: 0.3s;
        }
        .arama-grubu button:hover { background: #fff; }

        .tarih-saat-box { text-align: right; font-family: 'Orbitron', sans-serif; }

        .ana-govde { display: flex; justify-content: space-between; align-items: center; flex: 1; }
        .sol-panel { width: 42%; }
        .kalan-etiket { font-size: 26px; margin-bottom: 5px; opacity: 0.9; text-shadow: 1px 1px 5px #000; }
        .buyuk-sayac { font-family: 'Orbitron', sans-serif; font-size: 110px; font-weight: 700; color: #fff; text-shadow: 0 0 30px rgba(0,0,0,0.8); }

        .sag-panel { width: 52%; display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
        .vakit-kutu {
            background: rgba(0, 0, 0, 0.4); backdrop-filter: blur(10px);
            padding: 20px 10px; text-align: center; border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.2); transition: 0.5s;
        }

        /* Aktif Vakit Renkleri */
        .aktif { background: rgba(0, 102, 204, 0.75) !important; border: 2px solid #fff !important; transform: scale(1.05); box-shadow: 0 0 20px rgba(0,102,204,0.5); }
        .imsak-aktif { background: rgba(0, 153, 51, 0.75) !important; border: 2px solid #fff !important; transform: scale(1.05); box-shadow: 0 0 20px rgba(0,153,51,0.5); }

        .vakit-saat { font-family: 'Orbitron', sans-serif; font-size: 38px; display: block; margin-bottom: 5px; }
        .vakit-isim { font-size: 15px; text-transform: uppercase; font-weight: 500; letter-spacing: 1px; }

        .alt-bilgi { display: flex; justify-content: space-between; align-items: flex-end; border-top: 1px solid rgba(255,255,255,0.2); padding-top: 15px; }
        .hadis-box { max-width: 65%; font-style: italic; font-size: 15px; color: #eee; text-shadow: 1px 1px 3px #000; }
        .stats-box { font-family: 'Orbitron', sans-serif; font-size: 13px; text-align: right; color: #ffd700; }
    </style>
</head>
<body>

<div class="ana-konteyner">
    <div class="overlay"></div>
    
    <div class="icerik">
        <div class="ust-header">
            <div class="baslik-alanı">
                <h1>Namaz Vakitleri</h1>
                <div class="arama-grubu">
                    <input type="text" id="countryInp" placeholder="Ülke (Turkey)">
                    <input type="text" id="cityInp" placeholder="Şehir (Denizli)">
                    <button onclick="verileriYukle()">GETİR</button>
                </div>
            </div>
            <div class="tarih-saat-box">
                <div id="miltarih" style="font-size: 22px; opacity: 0.9;">--.--.----</div>
                <div id="saat" style="font-size: 45px; color: #ffd700; margin: 5px 0;">00:00</div>
                <div id="hicri" style="font-size: 14px; color: #ddd;">Hicri: -- --- ----</div>
            </div>
        </div>

        <div class="ana-govde">
            <div class="sol-panel">
                <div class="kalan-etiket" id="vakitIsim">Sıradaki Vakte</div>
                <div class="buyuk-sayac" id="kalanSure">00:00</div>
            </div>

            <div class="sag-panel">
                <div class="vakit-kutu" id="box-fajr"><span class="vakit-saat" id="fajr">--:--</span><span class="vakit-isim">İmsak</span></div>
                <div class="vakit-kutu" id="box-sunrise"><span class="vakit-saat" id="sunrise">--:--</span><span class="vakit-isim">Güneş</span></div>
                <div class="vakit-kutu" id="box-dhuhr"><span class="vakit-saat" id="dhuhr">--:--</span><span class="vakit-isim">Öğle</span></div>
                <div class="vakit-kutu" id="box-asr"><span class="vakit-saat" id="asr">--:--</span><span class="vakit-isim">İkindi</span></div>
                <div class="vakit-kutu" id="box-maghrib"><span class="vakit-saat" id="maghrib">--:--</span><span class="vakit-isim">Akşam</span></div>
                <div class="vakit-kutu" id="box-isha"><span class="vakit-saat" id="isha">--:--</span><span class="vakit-isim">Yatsı</span></div>
            </div>
        </div>

        <div class="alt-bilgi">
            <div class="hadis-box" id="hadisMetin">"Namaz müminin miracıdır."</div>
            <div class="stats-box">
                <div id="tempVal">SICAKLIK: --°C</div>
                <div id="locVal">KONUM: DENIZLI</div>
            </div>
        </div>
    </div>
</div>

<script>
    let timings = {};

    async function verileriYukle() {
        const country = document.getElementById('countryInp').value || "Turkey";
        const city = document.getElementById('cityInp').value || "Denizli";
        
        try {
            const res = await fetch(`https://api.aladhan.com/v1/timingsByCity?city=${city}&country=${country}&method=13`);
            const data = await res.json();
            timings = data.data.timings;
            
            document.getElementById('fajr').innerText = timings.Fajr;
            document.getElementById('sunrise').innerText = timings.Sunrise;
            document.getElementById('dhuhr').innerText = timings.Dhuhr;
            document.getElementById('asr').innerText = timings.Asr;
            document.getElementById('maghrib').innerText = timings.Maghrib;
            document.getElementById('isha').innerText = timings.Isha;
            
            document.getElementById('locVal').innerText = `KONUM: ${city.toUpperCase()}`;
            const h = data.data.date.hijri;
            document.getElementById('hicri').innerText = `Hicri: ${h.day} ${h.month.tr || h.month.en} ${h.year}`;

            const weatherRes = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${data.data.meta.latitude}&longitude=${data.data.meta.longitude}&current_weather=true`);
            const weatherData = await weatherRes.json();
            document.getElementById('tempVal').innerText = `SICAKLIK: ${Math.round(weatherData.current_weather.temperature)}°C`;
            
        } catch (e) { console.error("Veri Hatası"); }
    }

    function guncelle() {
        const simdi = new Date();
        document.getElementById('saat').innerText = simdi.getHours().toString().padStart(2,'0') + ":" + simdi.getMinutes().toString().padStart(2,'0');
        document.getElementById('miltarih').innerText = simdi.toLocaleDateString('tr-TR');

        if (!timings.Fajr) return;

        const vakitList = [
            {n: "İmsak", t: timings.Fajr, id: "box-fajr"}, {n: "Güneş", t: timings.Sunrise, id: "box-sunrise"},
            {n: "Öğle", t: timings.Dhuhr, id: "box-dhuhr"}, {n: "İkindi", t: timings.Asr, id: "box-asr"},
            {n: "Akşam", t: timings.Maghrib, id: "box-maghrib"}, {n: "Yatsı", t: timings.Isha, id: "box-isha"}
        ];

        const simdiDakika = simdi.getHours() * 60 + simdi.getMinutes();
        let currentIdx = -1;

        vakitList.forEach((v, i) => {
            const [h, m] = v.t.split(':');
            const vDakika = parseInt(h) * 60 + parseInt(m);
            document.getElementById(v.id).classList.remove('aktif', 'imsak-aktif');
            if (simdiDakika >= vDakika) currentIdx = i;
        });

        let nextIdx = (currentIdx + 1) % 6;
        let next = vakitList[nextIdx];
        
        // Aktif vakit renklendirmesi
        if (next.id === "box-fajr") {
            document.getElementById(next.id).classList.add('imsak-aktif');
        } else {
            document.getElementById(next.id).classList.add('aktif');
        }

        document.getElementById('vakitIsim').innerText = next.n + " Vaktine";

        // Geri sayım hesabı
        const [nh, nm] = next.t.split(':');
        let nDakika = parseInt(nh) * 60 + parseInt(nm);
        let fark = nDakika - simdiDakika;
        if (fark < 0) fark += 1440;
        
        const fh = Math.floor(fark / 60).toString().padStart(2,'0');
        const fm = (fark % 60).toString().padStart(2,'0');
        document.getElementById('kalanSure').innerText = `${fh}:${fm}`;
    }

    setInterval(guncelle, 1000);
    verileriYukle();
</script>

</body>
</html>