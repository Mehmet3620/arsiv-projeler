<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allaturkaa Radyo Oynatıcı</title> 
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <style>
        :root {
            /* *******************************************************
            * TEMA RENGİNİ BURADAN DEĞİŞTİREBİLİRSİNİZ
            *******************************************************
            */
            --main-theme-color-1: #f75069;   /* Açık Kırmızı/Pembe */
            --main-theme-color-2: #cc3354;   /* Koyu Kırmızı/Gül Kurusu (Ana Tema Rengi) */
            --main-theme-shadow: #992540;    /* Gölge Rengi */
            
            /* DİĞER SABİT GÖRSEL RENKLER */
            --slider-active-color: var(--main-theme-color-2); 
            --slider-muted-color: #ffffff;                    
            --tag-text-color: #ffffff;
            --tag-now-playing-bg: #cc3354; 
            --tag-live-bg: #cc3354;         
            --player-bg: #2a2a2a; 
            --info-text-color: #ffffff; 
            --controls-bar-bg: #5f5f5f; 
            --logo-color: #c0c0c0; 
            --slider-track-color: #404040; 
            --slider-fill-color: var(--slider-active-color); 
        }

        /* Genel Stiller (KIRMIZI BANT, DÜĞME VB. KISIMLAR KORUNDU) */
        body { font-family: Arial, sans-serif; background-color: #1a1a1a; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .radio-player-container { 
            width: 90%; max-width: 800px; background-color: var(--player-bg); 
            border-radius: 4px; 
            overflow: hidden; 
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5); 
            position: relative; 
        }
        .stream-info-area { 
            display: flex; padding: 20px; align-items: center; color: var(--info-text-color); position: relative;
        }
        /* KIRMIZI AYIRICI BANT */
        .bottom-border-strip {
            width: 100%; height: 3px; background-color: var(--main-theme-color-2); position: absolute; bottom: 60px; left: 0; z-index: 100; 
        }
        .cd-art-container { width: 100px; height: 100px; margin-right: 20px; background-color: #c0c0c0; border-radius: 4px; display: flex; justify-content: center; align-items: center; overflow: hidden; }
        .cd-art { width: 80px; height: 80px; border-radius: 50%; position: relative; background: radial-gradient(circle at 50% 50%, #fff 0%, #eee 5%, #ccc 10%, #fff 15%, #e8e8e8 100%); border: 1px solid #777; }
        .playing .cd-art { animation: spin 3s linear infinite; }
        .text-info { flex-grow: 1; }
        .controls-bar { 
            display: flex; align-items: center; background-color: var(--controls-bar-bg); padding: 0 20px; height: 60px; position: relative; z-index: 1; 
        }
        .allaturkaa-logo { flex-shrink: 0; width: 110px; height: auto; margin-right: 15px; opacity: 1; display: block; }
        .spacer { flex-grow: 1; min-width: 10px; flex-shrink: 1; }
        /* SES KONTROLÜ VE SİMGELERİ */
        .volume-control { display: flex; align-items: center; flex-grow: 0; margin-right: 20px; height: 100%; flex-shrink: 0; width: 200px; }
        .volume-icon { font-size: 1.2em; color: var(--info-text-color); margin: 0 5px; cursor: pointer; line-height: 1; width: 20px; text-align: center;}
        /* SES ÇUBUĞU KURALLARI */
        .volume-slider { -webkit-appearance: none; appearance: none; height: 4px; border-radius: 2px; outline: none; flex-grow: 1; margin: 0; cursor: pointer; padding: 0; min-width: 100px; background: var(--slider-track-color); background-size: 100% 100%; background-repeat: no-repeat; }
        .volume-slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 18px; height: 18px; border-radius: 50%; background: var(--info-text-color); cursor: pointer; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4); border: 2px solid var(--slider-fill-color); margin-top: -6px; position: relative; z-index: 2; }
        .volume-slider::-moz-range-thumb { width: 18px; height: 18px; border-radius: 50%; background: var(--info-text-color); cursor: pointer; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4); border: 2px solid var(--slider-fill-color); }
        .volume-slider::-moz-range-progress { background-color: var(--slider-fill-color); height: 4px; border-radius: 2px; }
        .volume-slider::-moz-range-track { background-color: var(--slider-track-color); height: 4px; border-radius: 2px; }
        /* OYNAT/DURAKLAT DÜĞMESİ VE SİMGELERİ */
        .play-pause-btn { display: flex; align-items: center; justify-content: center; padding: 8px 15px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; text-transform: uppercase; color: var(--info-text-color); transition: all 0.1s ease-in-out; height: 40px; line-height: 1; background: linear-gradient(to right, var(--main-theme-color-1), var(--main-theme-color-2)); box-shadow: inset 0 -4px 0 var(--main-theme-shadow); flex-shrink: 0; }
        .play-pause-btn:active { box-shadow: inset 0 2px 0 var(--main-theme-shadow); transform: translateY(2px); }
        .button-text { margin-left: 10px; }
        .play-pause-btn i { font-size: 1.2em; line-height: 1; width: 1.2em; text-align: center; }
        /* KIRMIZI ETİKET KUTULARI */
        .status-tags { display: flex; gap: 10px; margin-top: 10px; }
        .tag { padding: 4px 8px; border-radius: 3px; font-size: 0.75em; font-weight: bold; text-transform: uppercase; color: var(--tag-text-color); line-height: 1; background: var(--tag-now-playing-bg); box-shadow: none; }
        .tag-off-schedule { background: orange; color: #2a2a2a; }
        .text-info p { margin-bottom: 0; }
    </style>
</head>
<body>

<audio id="radio-audio" crossorigin="anonymous">
    <source src="https://eu4.fastcast4u.com/proxy/okyanus35?mp=/1" type="audio/mpeg">
    Tarayıcınız ses etiketini desteklemiyor.
</audio>

<div class="radio-player-container">
    <div class="stream-info-area">
        <div class="cd-art-container">
            <div class="cd-art" id="cdArt"></div> 
        </div>

        <div class="text-info">
            <h2 id="djName">Radyo Allaturka</h2> 
            <p id="streamDescription">
                <span class="cc_streaminfo" data-type="song" data-username="okyanus35">Yükleniyor...</span>
            </p> 
            <div class="status-tags">
                <span class="tag tag-now-playing" id="tagNowPlaying">NOW PLAYING</span>
                <span class="tag tag-live" id="tagLive">LIVE</span>
                <span class="tag tag-off-schedule" style="display: none;">OFF SCHEDULE</span> 
            </div>
        </div>
    </div>
    
    <div class="bottom-border-strip"></div> 

    <div class="controls-bar caster-fm">
        
        <img src="https://allaturkaa.de/forum/wcf/images/allaturkaa/logo.png" alt="Allaturkaa Logo" class="allaturkaa-logo">
        <div class="spacer"></div>
        
        <div class="volume-control">
            <span class="volume-icon muted-icon" id="muteIcon"><i class="fa-solid fa-volume-off"></i></span>
            <input type="range" min="0" max="100" value="75" class="volume-slider" id="volumeSlider">
            <span class="volume-icon full-icon"><i class="fa-solid fa-volume-high"></i></span>
        </div>
        
        <button class="play-pause-btn is-paused" id="playPauseBtn">
            <i class="fa-solid fa-pause" style="display: none;"></i>
            <i class="fa-solid fa-play"></i>
            <span class="button-text" id="btnText">PLAY</span>
        </button>
    </div>

</div>

<script src="https://eu4.fastcast4u.com/system/streaminfo.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const playPauseBtn = document.getElementById('playPauseBtn');
        const btnText = document.getElementById('btnText');
        const cdArtContainer = document.querySelector('.radio-player-container');
        const volumeSlider = document.getElementById('volumeSlider');
        const radioAudio = document.getElementById('radio-audio');
        const root = document.documentElement; 

        const iconPlay = playPauseBtn.querySelector('.fa-play');
        const iconPause = playPauseBtn.querySelector('.fa-pause');

        let isPlaying = false; 

        const sliderActiveColor = getComputedStyle(root).getPropertyValue('--slider-active-color').trim();
        const sliderTrackColor = getComputedStyle(root).getPropertyValue('--slider-track-color').trim(); 

        
        root.style.setProperty('--slider-fill-color', sliderActiveColor);
        
        const isWebkit = 'WebkitAppearance' in document.documentElement.style;


        function updatePlayerUI(playingState) {
            isPlaying = playingState;
            
            if (playingState) {
                playPauseBtn.classList.remove('is-paused');
                playPauseBtn.classList.add('is-playing');
                iconPause.style.display = 'inline-block'; 
                iconPlay.style.display = 'none';
                btnText.textContent = 'PAUSE';
                cdArtContainer.classList.add('playing');
            } else {
                playPauseBtn.classList.remove('is-playing');
                playPauseBtn.classList.add('is-paused');
                iconPause.style.display = 'none';
                iconPlay.style.display = 'inline-block';
                btnText.textContent = 'PLAY';
                cdArtContainer.classList.remove('playing');
            }
            updateVolumeSliderColor(); 
        }
        
        playPauseBtn.addEventListener('click', () => {
            if (!isPlaying) {
                radioAudio.play()
                    .then(() => {
                        updatePlayerUI(true);
                    })
                    .catch(error => {
                        console.error("Çalma hatası:", error);
                        alert("Radyoyu çalmak için tarayıcı izni gerekiyor, lütfen butona tekrar basmayı deneyin.");
                        updatePlayerUI(false);
                    });
            } else {
                radioAudio.pause();
                updatePlayerUI(false);
            }
        });

        /* SES ÇUBUĞU RENGİNİ GÜNCELLEME */
        function updateVolumeSliderColor() {
            const value = volumeSlider.value;
            const sliderMutedColor = getComputedStyle(root).getPropertyValue('--slider-muted-color').trim();
            const currentColor = radioAudio.muted || value == 0 ? sliderMutedColor : sliderActiveColor;
            
            root.style.setProperty('--slider-fill-color', currentColor);

            if (isWebkit) {
                const percentage = (value - volumeSlider.min) / (volumeSlider.max - volumeSlider.min);
                const fillPercentage = percentage * 100;
                
                const webkitBackgroundGradient = `linear-gradient(to right, ${currentColor} 0%, ${currentColor} ${fillPercentage}%, ${sliderTrackColor} ${fillPercentage}%, ${sliderTrackColor} 100%)`;
                
                volumeSlider.style.backgroundImage = webkitBackgroundGradient;
            }
            
            radioAudio.volume = value / 100;
        }
        
        volumeSlider.addEventListener('input', () => {
            radioAudio.muted = volumeSlider.value == 0;
            updateVolumeSliderColor();
        });
        
        document.getElementById('muteIcon').addEventListener('click', () => {
            radioAudio.muted = !radioAudio.muted;
            if (radioAudio.muted) {
                volumeSlider.value = 0; 
            } else {
                volumeSlider.value = radioAudio.volume > 0 ? Math.round(radioAudio.volume * 100) : 75; 
            }
            updateVolumeSliderColor();
        });
        
        radioAudio.addEventListener('volumechange', () => {
            if (radioAudio.muted) {
                volumeSlider.value = 0;
            } 
            else if (radioAudio.volume > 0) {
                 volumeSlider.value = Math.round(radioAudio.volume * 100);
            }
            updateVolumeSliderColor();
        });

        // Başlangıç ayarları
        radioAudio.volume = volumeSlider.value / 100;
        radioAudio.muted = volumeSlider.value == 0; 
        updatePlayerUI(false); 
    });
</script>
</body>
</html>